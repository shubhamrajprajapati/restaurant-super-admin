result="{"; append_to_result() { key="$1"; value="$2"; [ "${result}" != "{" ] && result="$result,"; result="$result\"$key\":\"$value\""; }; apache_version=$(httpd -v 2>&1 | grep -oP 'Apache/\K[^ ]+') && append_to_result "apache_version" "$apache_version"; nginx_version=$(nginx -v 2>&1 | grep -oP 'nginx/\K[^ ]+') && append_to_result "nginx_version" "$nginx_version"; mysql_version=$(mysql -V 2>&1 | grep -oP '\d+\.\d+\.\d+') && append_to_result "mysql_version" "$mysql_version"; composer_output=$(if [ "$(id -u)" -eq 0 ]; then COMPOSER_ALLOW_SUPERUSER=1 composer --version --no-interaction; else composer --version --no-interaction; fi 2>&1); composer_version=$(echo "$composer_output" | grep -oP 'Composer (version )?\K[0-9]+\.[0-9]+\.[0-9]+' || echo "not found"); append_to_result "composer_version" "$composer_version"; git_version=$(git --version 2>&1 | grep -oP '\d+\.\d+\.\d+') && append_to_result "git_version" "$git_version"; php_version=$(php -v 2>&1 | grep -oP 'PHP \K\d+\.\d+\.\d+') && append_to_result "php_version" "$php_version"; modules_array=""; while IFS= read -r module; do [ -n "$modules_array" ] && modules_array="$modules_array,"; modules_array="$modules_array\"$module\""; done < <(php -m | tail -n +2); [ -n "$modules_array" ] && result="$result,\"modules\":[$modules_array]"; result="$result}"; echo "$result"